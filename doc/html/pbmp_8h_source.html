<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenNSL API Guide and Reference Manual: include/shared/pbmp.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen/doxygen_brcm.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenNSL API Guide and Reference Manual
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li><a href="pages.html"><span>OpenNSL&#160;Documentation</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">include/shared/pbmp.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="pbmp_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*********************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * (C) Copyright Broadcom Corporation 2013-2015</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l00006"></a>00006 <span class="comment"> *  you may not use this file except in compliance with the License.</span>
<a name="l00007"></a>00007 <span class="comment"> *  You may obtain a copy of the License at</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> *      http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> *  Unless required by applicable law or agreed to in writing, software</span>
<a name="l00012"></a>00012 <span class="comment"> *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00013"></a>00013 <span class="comment"> *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00014"></a>00014 <span class="comment"> *  See the License for the specific language governing permissions and</span>
<a name="l00015"></a>00015 <span class="comment"> *  limitations under the License.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> **********************************************************************</span>
<a name="l00018"></a>00018 <span class="comment"> * File:        pbmp.h</span>
<a name="l00019"></a>00019 <span class="comment"> * Details:     Port Bitmap Macros</span>
<a name="l00020"></a>00020 <span class="comment"> *********************************************************************/</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef _SHR_PBMP_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="sal_2types_8h.html">sal/types.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="comment">/*</span>
<a name="l00027"></a>00027 <span class="comment"> * Port Bitmap Macros</span>
<a name="l00028"></a>00028 <span class="comment"> *</span>
<a name="l00029"></a>00029 <span class="comment"> * These macros are never used directly (well, except in the C code</span>
<a name="l00030"></a>00030 <span class="comment"> * support routines that are used to help implement the macros).</span>
<a name="l00031"></a>00031 <span class="comment"> *</span>
<a name="l00032"></a>00032 <span class="comment"> * This header requires that the uint32 type be defined before inclusion.</span>
<a name="l00033"></a>00033 <span class="comment"> * Using &lt;sal/types.h&gt; is the simplest (and recommended) way of doing</span>
<a name="l00034"></a>00034 <span class="comment"> * this.</span>
<a name="l00035"></a>00035 <span class="comment"> *</span>
<a name="l00036"></a>00036 <span class="comment"> * There following macros are made available.  All have names starting</span>
<a name="l00037"></a>00037 <span class="comment"> * with _SHR_, which have been elided from this list:</span>
<a name="l00038"></a>00038 <span class="comment"> *</span>
<a name="l00039"></a>00039 <span class="comment"> * Constants or Expressions suitable for assignment:</span>
<a name="l00040"></a>00040 <span class="comment"> * PBMP_PORT_MAX    the maximum number of ports supported</span>
<a name="l00041"></a>00041 <span class="comment"> * PBMP_WORD_MAX    the maximum number of words in a bitmap</span>
<a name="l00042"></a>00042 <span class="comment"> * PBMP_WORD_GET(b, w)    return word w (0..WORD_MAX-1) from bitmap b</span>
<a name="l00043"></a>00043 <span class="comment"> * PBMP_FMT_LEN     length of char[] array for PBMP_FMT</span>
<a name="l00044"></a>00044 <span class="comment"> * PBMP_FMT(b,s)    %s&#39;able format of bitmap b into string s</span>
<a name="l00045"></a>00045 <span class="comment"> *        returns s</span>
<a name="l00046"></a>00046 <span class="comment"> *</span>
<a name="l00047"></a>00047 <span class="comment"> * Predicates: (return 0 or 1, suitable for using in if statements)</span>
<a name="l00048"></a>00048 <span class="comment"> * PBMP_MEMBER(b, p)    is port p a member of bitmap b?</span>
<a name="l00049"></a>00049 <span class="comment"> * PBMP_IS_NULL(b)    is bitmap b empty?</span>
<a name="l00050"></a>00050 <span class="comment"> * PBMP_NOT_NULL(b)   is bitmap b not empty?</span>
<a name="l00051"></a>00051 <span class="comment"> * PBMP_EQ(b1, b2)    are bitmaps b1 and b2 equal?</span>
<a name="l00052"></a>00052 <span class="comment"> * PBMP_NEQ(b1, b2)   are bitmaps b1 and b2 not equal?</span>
<a name="l00053"></a>00053 <span class="comment"> * PBMP_PORT_VALID(p)   is p a valid port number? (0..PORT_MAX)</span>
<a name="l00054"></a>00054 <span class="comment"> *</span>
<a name="l00055"></a>00055 <span class="comment"> * Statements: (cannot be used as a predicate)</span>
<a name="l00056"></a>00056 <span class="comment"> * PBMP_CLEAR(b)    zero out a bitmap</span>
<a name="l00057"></a>00057 <span class="comment"> * PBMP_COUNT(b, c)   store how many bits are on in b into integer c</span>
<a name="l00058"></a>00058 <span class="comment"> * PBMP_ITER(b, p) {...}  iterate over bitmap b, setting p to each bit</span>
<a name="l00059"></a>00059 <span class="comment"> * PBMP_ASSIGN(b1, b2)    copy bitmap b2 into b1</span>
<a name="l00060"></a>00060 <span class="comment"> * PBMP_AND(b1, b2)   and bitmap b2 into b1</span>
<a name="l00061"></a>00061 <span class="comment"> * PBMP_OR(b1, b2)    or bitmap b2 into b1</span>
<a name="l00062"></a>00062 <span class="comment"> * PBMP_XOR(b1, b2)   exclusive or bitmap b2 into b1</span>
<a name="l00063"></a>00063 <span class="comment"> * PBMP_REMOVE(b1, b2)    remove bits in bitmap b2 from b1</span>
<a name="l00064"></a>00064 <span class="comment"> * PBMP_NEGATE(b1, b2)    copy the bitwise negation of bitmap b2 into b1</span>
<a name="l00065"></a>00065 <span class="comment"> * PBMP_PORT_SET(b, p)    clear bitmap b, then turn bit p on</span>
<a name="l00066"></a>00066 <span class="comment"> * PBMP_PORT_ADD(b, p)    turn bit p on in bitmap b</span>
<a name="l00067"></a>00067 <span class="comment"> * PBMP_PORT_REMOVE(b, p) turn bit p off in bitmap b</span>
<a name="l00068"></a>00068 <span class="comment"> * PBMP_PORT_FLIP(b, p)   flip the sense of bit p on in bitmap b</span>
<a name="l00069"></a>00069 <span class="comment"> * PBMP_WORD_SET(b, w, v) set word w (0..WORD_MAX-1) from bitmap b to v</span>
<a name="l00070"></a>00070 <span class="comment"> *</span>
<a name="l00071"></a>00071 <span class="comment"> * Internal forms: (should not be used outside of this header file)</span>
<a name="l00072"></a>00072 <span class="comment"> * PBMP_WENT(p)     word index for bit p</span>
<a name="l00073"></a>00073 <span class="comment"> * PBMP_WBIT(p)     word bitmask for bit p</span>
<a name="l00074"></a>00074 <span class="comment"> * PBMP_BMCLEAR(b)    clear a bitmap</span>
<a name="l00075"></a>00075 <span class="comment"> * PBMP_BMNULL(b)   is bitmap b empty?</span>
<a name="l00076"></a>00076 <span class="comment"> * PBMP_BMEQ(b1, b2)    are bitmaps b1 and b2 equal?</span>
<a name="l00077"></a>00077 <span class="comment"> * PBMP_BMOP(b1, b2, op)  execute op on a word basis on bitmaps b1, b2</span>
<a name="l00078"></a>00078 <span class="comment"> * PBMP_ENTRY(b, p)   the word of bitmap b that holds bit p</span>
<a name="l00079"></a>00079 <span class="comment"> *</span>
<a name="l00080"></a>00080 <span class="comment"> * There are 4 styles of implementation for the bitmap macros supported:</span>
<a name="l00081"></a>00081 <span class="comment"> * 1. The historic single uint32 implementation (-D_SHR_PBMP_WIDTH=0)</span>
<a name="l00082"></a>00082 <span class="comment"> *    This is expected to be removed after a decent time of mourning.</span>
<a name="l00083"></a>00083 <span class="comment"> * 2. An array of a single uint32 in a struct (-D_SHR_PBMP_WIDTH=32,</span>
<a name="l00084"></a>00084 <span class="comment"> *    the default).  Macros are special cased to handle this efficiently.</span>
<a name="l00085"></a>00085 <span class="comment"> * 3. An array of two uint32 in a struct (-D_SHR_PBMP_WIDTH=64, used).</span>
<a name="l00086"></a>00086 <span class="comment"> *    Macros are again special cased for efficiency.</span>
<a name="l00087"></a>00087 <span class="comment"> * 4. An array of more than two uint32 in a struct (-D_SHR_PBMP_WIDTH=256</span>
<a name="l00088"></a>00088 <span class="comment"> *    for example).  Most things are done inline, with a couple of helper</span>
<a name="l00089"></a>00089 <span class="comment"> *    functions used to implement some macros.</span>
<a name="l00090"></a>00090 <span class="comment"> */</span>
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 <span class="preprocessor">#ifndef _SHR_PBMP_WIDTH</span>
<a name="l00093"></a><a class="code" href="pbmp_8h.html#ae6b235e08029828b251d41df119eceb0">00093</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_PORT_MAX  256</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span>
<a name="l00095"></a><a class="code" href="pbmp_8h.html#a846d59d2bf70c866617e4f95d23a922c">00095</a> <span class="preprocessor">#define _SHR_PBMP_WIDTH   (((_SHR_PBMP_PORT_MAX + 32 - 1)/32)*32)</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span>
<a name="l00098"></a>00098 <span class="preprocessor">#ifndef _SHR_PBMP_PORT_MAX</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_PORT_MAX    _SHR_PBMP_WIDTH</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00101"></a><a class="code" href="pbmp_8h.html#affe1952d2c6814539fb7626cfd68de02">00101</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_WORD_WIDTH    32</span>
<a name="l00102"></a><a class="code" href="pbmp_8h.html#afe75502a20af26b1f31fd434acfb12b9">00102</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_WORD_MAX    \</span>
<a name="l00103"></a>00103 <span class="preprocessor">  ((_SHR_PBMP_WIDTH + _SHR_PBMP_WORD_WIDTH-1) / _SHR_PBMP_WORD_WIDTH)</span>
<a name="l00104"></a>00104 <span class="preprocessor"></span>
<a name="l00105"></a><a class="code" href="struct__shr__pbmp.html">00105</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__shr__pbmp.html">_shr_pbmp</a> {
<a name="l00106"></a><a class="code" href="struct__shr__pbmp.html#acc5b14f3dc25c39ffe7f81a5a418d89a">00106</a>   <a class="code" href="sal_2types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>  <a class="code" href="struct__shr__pbmp.html#acc5b14f3dc25c39ffe7f81a5a418d89a">pbits</a>[<a class="code" href="pbmp_8h.html#afe75502a20af26b1f31fd434acfb12b9">_SHR_PBMP_WORD_MAX</a>];
<a name="l00107"></a>00107 } <a class="code" href="pbmp_8h.html#a2d877bc6ecf7cf5cabd5c905284860a4">_shr_pbmp_t</a>;
<a name="l00108"></a>00108 <span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00109"></a>00109 
<a name="l00110"></a><a class="code" href="pbmp_8h.html#a03c1c7ee0d104a2fe2d7bd69ee4b288c">00110</a> <span class="preprocessor">#define _SHR_PBMP_WORD_GET(bm, word)    ((bm).pbits[(word)])</span>
<a name="l00111"></a><a class="code" href="pbmp_8h.html#a8c6d0381d550753592d4598545007f72">00111</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_WORD_SET(bm, word, val) ((bm).pbits[(word)] = (val))</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span>
<a name="l00113"></a>00113 <span class="comment">/*</span>
<a name="l00114"></a>00114 <span class="comment"> * Common cases are one word (1..32 ports) and two words (33..64 ports).</span>
<a name="l00115"></a>00115 <span class="comment"> * If not the common cases, more complicated code is generated using helper</span>
<a name="l00116"></a>00116 <span class="comment"> * functions.</span>
<a name="l00117"></a>00117 <span class="comment"> */</span>
<a name="l00118"></a>00118 <span class="preprocessor">#if _SHR_PBMP_WORD_MAX == 1   </span><span class="comment">/* 32 bit maps */</span>
<a name="l00119"></a>00119 <span class="preprocessor">#define _SHR_PBMP_WENT(port)    (0)</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_WBIT(port)    (1U&lt;&lt;(port))</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span>
<a name="l00122"></a>00122 <span class="comment">/* helper defines used in the generic section below */</span>
<a name="l00123"></a>00123 <span class="preprocessor">#define _SHR_PBMP_BMCLEAR(bm)   (_SHR_PBMP_WORD_GET(bm, 0) = 0)</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMNULL(bm)    (_SHR_PBMP_WORD_GET(bm, 0) == 0)</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMEQ(bma, bmb)  \</span>
<a name="l00126"></a>00126 <span class="preprocessor">  (_SHR_PBMP_WORD_GET(bma, 0) == _SHR_PBMP_WORD_GET(bmb, 0))</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMOP(bma, bmb, op)  do { \</span>
<a name="l00128"></a>00128 <span class="preprocessor">    _SHR_PBMP_WORD_GET(bma, 0) op _SHR_PBMP_WORD_GET(bmb, 0); \</span>
<a name="l00129"></a>00129 <span class="preprocessor">  } while (0)</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00131"></a>00131 <span class="preprocessor">#define _SHR_PBMP_COUNT(bm, count)  \</span>
<a name="l00132"></a>00132 <span class="preprocessor">  (count = _shr_popcount(_SHR_PBMP_WORD_GET(bm, 0)))</span>
<a name="l00133"></a>00133 <span class="preprocessor"></span>
<a name="l00134"></a>00134 <span class="preprocessor">#elif _SHR_PBMP_WORD_MAX == 2   </span><span class="comment">/* 64 bit maps */</span>
<a name="l00135"></a>00135 <span class="preprocessor">#define _SHR_PBMP_WENT(port)    ((port)/_SHR_PBMP_WORD_WIDTH)</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_WBIT(port)    (1U&lt;&lt;((port) % _SHR_PBMP_WORD_WIDTH))</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span>
<a name="l00138"></a>00138 <span class="preprocessor">#define _SHR_PBMP_BMCLEAR(bm)   \</span>
<a name="l00139"></a>00139 <span class="preprocessor">  (_SHR_PBMP_WORD_GET(bm, 0) = _SHR_PBMP_WORD_GET(bm, 1) = 0)</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMNULL(bm)    \</span>
<a name="l00141"></a>00141 <span class="preprocessor">  (_SHR_PBMP_WORD_GET(bm, 0) == 0 &amp;&amp; _SHR_PBMP_WORD_GET(bm, 1) == 0)</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMEQ(bma, bmb)  \</span>
<a name="l00143"></a>00143 <span class="preprocessor">  ((_SHR_PBMP_WORD_GET(bma, 0) == _SHR_PBMP_WORD_GET(bmb, 0)) &amp;&amp; \</span>
<a name="l00144"></a>00144 <span class="preprocessor">   (_SHR_PBMP_WORD_GET(bma, 1) == _SHR_PBMP_WORD_GET(bmb, 1)))</span>
<a name="l00145"></a>00145 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMOP(bma, bmb, op)  do { \</span>
<a name="l00146"></a>00146 <span class="preprocessor">  _SHR_PBMP_WORD_GET(bma, 0) op _SHR_PBMP_WORD_GET(bmb, 0); \</span>
<a name="l00147"></a>00147 <span class="preprocessor">  _SHR_PBMP_WORD_GET(bma, 1) op _SHR_PBMP_WORD_GET(bmb, 1); \</span>
<a name="l00148"></a>00148 <span class="preprocessor">  } while (0)</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00150"></a>00150 <span class="preprocessor">#define _SHR_PBMP_COUNT(bm, count)  \</span>
<a name="l00151"></a>00151 <span class="preprocessor">  (count = _shr_popcount(_SHR_PBMP_WORD_GET(bm, 0)) + \</span>
<a name="l00152"></a>00152 <span class="preprocessor">     _shr_popcount(_SHR_PBMP_WORD_GET(bm, 1)))</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
<a name="l00154"></a>00154 <span class="preprocessor">#elif _SHR_PBMP_WORD_MAX == 3   </span><span class="comment">/* 96 bit maps */</span>
<a name="l00155"></a>00155 <span class="preprocessor">#define _SHR_PBMP_WENT(port)    ((port)/_SHR_PBMP_WORD_WIDTH)</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_WBIT(port)    (1U &lt;&lt; ((port) % _SHR_PBMP_WORD_WIDTH))</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span>
<a name="l00158"></a>00158 <span class="preprocessor">#define _SHR_PBMP_BMCLEAR(bm)   \</span>
<a name="l00159"></a>00159 <span class="preprocessor">  (_SHR_PBMP_WORD_GET(bm, 0) = _SHR_PBMP_WORD_GET(bm, 1) = \</span>
<a name="l00160"></a>00160 <span class="preprocessor">         _SHR_PBMP_WORD_GET(bm, 2) = 0)</span>
<a name="l00161"></a>00161 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMNULL(bm)    \</span>
<a name="l00162"></a>00162 <span class="preprocessor">  (_SHR_PBMP_WORD_GET(bm, 0) == 0 &amp;&amp; _SHR_PBMP_WORD_GET(bm, 1) == 0 &amp;&amp; \</span>
<a name="l00163"></a>00163 <span class="preprocessor">         _SHR_PBMP_WORD_GET(bm, 2) == 0)</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMEQ(bma, bmb)  \</span>
<a name="l00165"></a>00165 <span class="preprocessor">  ((_SHR_PBMP_WORD_GET(bma, 0) == _SHR_PBMP_WORD_GET(bmb, 0)) &amp;&amp; \</span>
<a name="l00166"></a>00166 <span class="preprocessor">   (_SHR_PBMP_WORD_GET(bma, 1) == _SHR_PBMP_WORD_GET(bmb, 1)) &amp;&amp; \</span>
<a name="l00167"></a>00167 <span class="preprocessor">   (_SHR_PBMP_WORD_GET(bma, 2) == _SHR_PBMP_WORD_GET(bmb, 2)))</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMOP(bma, bmb, op)  do { \</span>
<a name="l00169"></a>00169 <span class="preprocessor">  _SHR_PBMP_WORD_GET(bma, 0) op _SHR_PBMP_WORD_GET(bmb, 0); \</span>
<a name="l00170"></a>00170 <span class="preprocessor">  _SHR_PBMP_WORD_GET(bma, 1) op _SHR_PBMP_WORD_GET(bmb, 1); \</span>
<a name="l00171"></a>00171 <span class="preprocessor">  _SHR_PBMP_WORD_GET(bma, 2) op _SHR_PBMP_WORD_GET(bmb, 2); \</span>
<a name="l00172"></a>00172 <span class="preprocessor">  } while (0)</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00174"></a>00174 <span class="preprocessor">#define _SHR_PBMP_COUNT(bm, count)  \</span>
<a name="l00175"></a>00175 <span class="preprocessor">  (count = _shr_popcount(_SHR_PBMP_WORD_GET(bm, 0)) + \</span>
<a name="l00176"></a>00176 <span class="preprocessor">     _shr_popcount(_SHR_PBMP_WORD_GET(bm, 1)) + \</span>
<a name="l00177"></a>00177 <span class="preprocessor">     _shr_popcount(_SHR_PBMP_WORD_GET(bm, 2)))</span>
<a name="l00178"></a>00178 <span class="preprocessor"></span>
<a name="l00179"></a>00179 <span class="preprocessor">#elif _SHR_PBMP_WORD_MAX == 5   </span><span class="comment">/* 160 bit maps */</span>
<a name="l00180"></a>00180 <span class="preprocessor">#define _SHR_PBMP_WENT(port)    ((port)/_SHR_PBMP_WORD_WIDTH)</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_WBIT(port)    (1U &lt;&lt; ((port) % _SHR_PBMP_WORD_WIDTH))</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span>
<a name="l00183"></a>00183 <span class="preprocessor">#define _SHR_PBMP_BMCLEAR(bm)   \</span>
<a name="l00184"></a>00184 <span class="preprocessor">  (_SHR_PBMP_WORD_GET(bm, 0) = _SHR_PBMP_WORD_GET(bm, 1) = \</span>
<a name="l00185"></a>00185 <span class="preprocessor">   _SHR_PBMP_WORD_GET(bm, 2) = _SHR_PBMP_WORD_GET(bm, 3) = \</span>
<a name="l00186"></a>00186 <span class="preprocessor">         _SHR_PBMP_WORD_GET(bm, 4) = 0)</span>
<a name="l00187"></a>00187 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMNULL(bm)    \</span>
<a name="l00188"></a>00188 <span class="preprocessor">  (_SHR_PBMP_WORD_GET(bm, 0) == 0 &amp;&amp; _SHR_PBMP_WORD_GET(bm, 1) == 0 &amp;&amp; \</span>
<a name="l00189"></a>00189 <span class="preprocessor">         _SHR_PBMP_WORD_GET(bm, 2) == 0 &amp;&amp; _SHR_PBMP_WORD_GET(bm, 3) == 0 &amp;&amp; \</span>
<a name="l00190"></a>00190 <span class="preprocessor">         _SHR_PBMP_WORD_GET(bm, 4) == 0)</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMEQ(bma, bmb)  \</span>
<a name="l00192"></a>00192 <span class="preprocessor">  ((_SHR_PBMP_WORD_GET(bma, 0) == _SHR_PBMP_WORD_GET(bmb, 0)) &amp;&amp; \</span>
<a name="l00193"></a>00193 <span class="preprocessor">   (_SHR_PBMP_WORD_GET(bma, 1) == _SHR_PBMP_WORD_GET(bmb, 1)) &amp;&amp; \</span>
<a name="l00194"></a>00194 <span class="preprocessor">   (_SHR_PBMP_WORD_GET(bma, 2) == _SHR_PBMP_WORD_GET(bmb, 2)) &amp;&amp; \</span>
<a name="l00195"></a>00195 <span class="preprocessor">   (_SHR_PBMP_WORD_GET(bma, 3) == _SHR_PBMP_WORD_GET(bmb, 3)) &amp;&amp; \</span>
<a name="l00196"></a>00196 <span class="preprocessor">   (_SHR_PBMP_WORD_GET(bma, 4) == _SHR_PBMP_WORD_GET(bmb, 4)))</span>
<a name="l00197"></a>00197 <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMOP(bma, bmb, op)  do { \</span>
<a name="l00198"></a>00198 <span class="preprocessor">  _SHR_PBMP_WORD_GET(bma, 0) op _SHR_PBMP_WORD_GET(bmb, 0); \</span>
<a name="l00199"></a>00199 <span class="preprocessor">  _SHR_PBMP_WORD_GET(bma, 1) op _SHR_PBMP_WORD_GET(bmb, 1); \</span>
<a name="l00200"></a>00200 <span class="preprocessor">  _SHR_PBMP_WORD_GET(bma, 2) op _SHR_PBMP_WORD_GET(bmb, 2); \</span>
<a name="l00201"></a>00201 <span class="preprocessor">  _SHR_PBMP_WORD_GET(bma, 3) op _SHR_PBMP_WORD_GET(bmb, 3); \</span>
<a name="l00202"></a>00202 <span class="preprocessor">  _SHR_PBMP_WORD_GET(bma, 4) op _SHR_PBMP_WORD_GET(bmb, 4); \</span>
<a name="l00203"></a>00203 <span class="preprocessor">  } while (0)</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00205"></a>00205 <span class="preprocessor">#define _SHR_PBMP_COUNT(bm, count)  \</span>
<a name="l00206"></a>00206 <span class="preprocessor">  (count = _shr_popcount(_SHR_PBMP_WORD_GET(bm, 0)) + \</span>
<a name="l00207"></a>00207 <span class="preprocessor">     _shr_popcount(_SHR_PBMP_WORD_GET(bm, 1)) + \</span>
<a name="l00208"></a>00208 <span class="preprocessor">     _shr_popcount(_SHR_PBMP_WORD_GET(bm, 2)) + \</span>
<a name="l00209"></a>00209 <span class="preprocessor">     _shr_popcount(_SHR_PBMP_WORD_GET(bm, 3)) + \</span>
<a name="l00210"></a>00210 <span class="preprocessor">     _shr_popcount(_SHR_PBMP_WORD_GET(bm, 4)))</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span>
<a name="l00212"></a>00212 <span class="preprocessor">#else </span><span class="comment">/* _SHR_PBMP_WORD_MAX == 4 || &gt; 5 */</span>  <span class="comment">/* 144 or &gt; 160 bit maps */</span>
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 <span class="comment">/* For use by pbmp.c */</span>
<a name="l00215"></a><a class="code" href="pbmp_8h.html#aaec2a5b6bab993a1235893e32b114898">00215</a> <span class="preprocessor">#define _SHR_DEFINE_PBMP_FUNCTIONS</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span>
<a name="l00217"></a>00217 <span class="keyword">extern</span> <span class="keywordtype">int</span>  <a class="code" href="pbmp_8h.html#ab98070123684dbd120a46bc885f2497f">_shr_pbmp_bmnull</a>(<a class="code" href="struct__shr__pbmp.html">_shr_pbmp_t</a> *);
<a name="l00218"></a>00218 <span class="keyword">extern</span> <span class="keywordtype">int</span>  <a class="code" href="pbmp_8h.html#a82cefa905958bcbfebc291de391656df">_shr_pbmp_bmeq</a>(<a class="code" href="struct__shr__pbmp.html">_shr_pbmp_t</a> *, <a class="code" href="struct__shr__pbmp.html">_shr_pbmp_t</a> *);
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="pbmp_8h.html#acd2f648180f6b52d920d769a9ff7aefa">00220</a> <span class="preprocessor">#define _SHR_PBMP_WENT(port)    ((port)/_SHR_PBMP_WORD_WIDTH)</span>
<a name="l00221"></a><a class="code" href="pbmp_8h.html#a5fe7780cf95e83512535b16de234a766">00221</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_WBIT(port)    (1U&lt;&lt;((port) % _SHR_PBMP_WORD_WIDTH))</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span>
<a name="l00223"></a><a class="code" href="pbmp_8h.html#ac385e5626584a0409b48699321bdd933">00223</a> <span class="preprocessor">#define _SHR_PBMP_BMCLEAR(bm)   do { \</span>
<a name="l00224"></a>00224 <span class="preprocessor">    int _w; \</span>
<a name="l00225"></a>00225 <span class="preprocessor">    for (_w = 0; _w &lt; _SHR_PBMP_WORD_MAX; _w++) { \</span>
<a name="l00226"></a>00226 <span class="preprocessor">      _SHR_PBMP_WORD_GET(bm, _w) = 0; \</span>
<a name="l00227"></a>00227 <span class="preprocessor">    } \</span>
<a name="l00228"></a>00228 <span class="preprocessor">  } while (0)</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00230"></a><a class="code" href="pbmp_8h.html#a3b1f90834814d004fbe02f40b2f5f84e">00230</a> <span class="preprocessor">#define _SHR_PBMP_BMNULL(bm)    (_shr_pbmp_bmnull(&amp;bm))</span>
<a name="l00231"></a><a class="code" href="pbmp_8h.html#ab2f9afbeeac0257f2b8d2a7bdc33fc78">00231</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMEQ(bma, bmb)  (_shr_pbmp_bmeq(&amp;bma, &amp;bmb))</span>
<a name="l00232"></a><a class="code" href="pbmp_8h.html#adf0d0f63b7cd6fd18269c15860f5c654">00232</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_BMOP(bma, bmb, op)  do { \</span>
<a name="l00233"></a>00233 <span class="preprocessor">    int _w; \</span>
<a name="l00234"></a>00234 <span class="preprocessor">    for (_w = 0; _w &lt; _SHR_PBMP_WORD_MAX; _w++) { \</span>
<a name="l00235"></a>00235 <span class="preprocessor">      _SHR_PBMP_WORD_GET(bma, _w) op _SHR_PBMP_WORD_GET(bmb, _w); \</span>
<a name="l00236"></a>00236 <span class="preprocessor">    } \</span>
<a name="l00237"></a>00237 <span class="preprocessor">  } while (0)</span>
<a name="l00238"></a>00238 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00239"></a><a class="code" href="pbmp_8h.html#a2b970b42d332fc3d84ba2c115fd3a1f7">00239</a> <span class="preprocessor">#define _SHR_PBMP_COUNT(bm, count)  do { \</span>
<a name="l00240"></a>00240 <span class="preprocessor">    int _w; \</span>
<a name="l00241"></a>00241 <span class="preprocessor">    count = 0; \</span>
<a name="l00242"></a>00242 <span class="preprocessor">    for (_w = 0; _w &lt; _SHR_PBMP_WORD_MAX; _w++) { \</span>
<a name="l00243"></a>00243 <span class="preprocessor">      count += _shr_popcount(_SHR_PBMP_WORD_GET(bm, _w)); \</span>
<a name="l00244"></a>00244 <span class="preprocessor">    } \</span>
<a name="l00245"></a>00245 <span class="preprocessor">  } while(0)</span>
<a name="l00246"></a>00246 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00247"></a>00247 
<a name="l00248"></a>00248 <span class="preprocessor">#endif  </span><span class="comment">/* _SHR_PBMP_WORD_MAX */</span>
<a name="l00249"></a>00249 
<a name="l00250"></a>00250 <span class="comment">/* generics that use the previously defined helpers */</span>
<a name="l00251"></a><a class="code" href="pbmp_8h.html#af0a9c4b85873016bb058211b1b3b5c2b">00251</a> <span class="preprocessor">#define _SHR_PBMP_CLEAR(bm)   _SHR_PBMP_BMCLEAR(bm)</span>
<a name="l00252"></a><a class="code" href="pbmp_8h.html#aa51c99da06decf206ead0e9e22ea4c29">00252</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_ITER(bm, port)  \</span>
<a name="l00253"></a>00253 <span class="preprocessor">  for ((port) = 0; (port) &lt; _SHR_PBMP_PORT_MAX; (port)++) \</span>
<a name="l00254"></a>00254 <span class="preprocessor">    if (_SHR_PBMP_MEMBER((bm), (port)))</span>
<a name="l00255"></a>00255 <span class="preprocessor"></span>
<a name="l00256"></a><a class="code" href="pbmp_8h.html#abae76cb424a58f04ab12f06f52212ffc">00256</a> <span class="preprocessor">#define _SHR_PBMP_IS_NULL(bm)   (_SHR_PBMP_BMNULL(bm))</span>
<a name="l00257"></a><a class="code" href="pbmp_8h.html#a5a5d5800025a75432a354c869b589d50">00257</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_NOT_NULL(bm)    (!_SHR_PBMP_BMNULL(bm))</span>
<a name="l00258"></a><a class="code" href="pbmp_8h.html#a3fc7909a6af1ac76df24b27b002d2eb6">00258</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_EQ(bma, bmb)    (_SHR_PBMP_BMEQ(bma, bmb))</span>
<a name="l00259"></a><a class="code" href="pbmp_8h.html#ab83329229a2d633656899b5c3153fdc1">00259</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_NEQ(bma, bmb)   (!_SHR_PBMP_BMEQ(bma, bmb))</span>
<a name="l00260"></a>00260 <span class="preprocessor"></span>
<a name="l00261"></a>00261 <span class="comment">/* Assignment operators */</span>
<a name="l00262"></a><a class="code" href="pbmp_8h.html#a05cb13fdfc84b86547af83654145eee0">00262</a> <span class="preprocessor">#define _SHR_PBMP_ASSIGN(dst, src)  (dst) = (src)</span>
<a name="l00263"></a><a class="code" href="pbmp_8h.html#a288bc3af80019029565b22996530f9f8">00263</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_AND(bma, bmb)   _SHR_PBMP_BMOP(bma, bmb, &amp;=)</span>
<a name="l00264"></a><a class="code" href="pbmp_8h.html#a92e920d8dcb7b8ba909bed571d0d706e">00264</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_OR(bma, bmb)    _SHR_PBMP_BMOP(bma, bmb, |=)</span>
<a name="l00265"></a><a class="code" href="pbmp_8h.html#aaaae8be37afd6eae20dc4938a70cf862">00265</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_XOR(bma, bmb)   _SHR_PBMP_BMOP(bma, bmb, ^=)</span>
<a name="l00266"></a><a class="code" href="pbmp_8h.html#a9709b4bb7af8b98a428151cc9a90bd9e">00266</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_REMOVE(bma, bmb)  _SHR_PBMP_BMOP(bma, bmb, &amp;= ~)</span>
<a name="l00267"></a><a class="code" href="pbmp_8h.html#a23bb3b642632986249afeeae072c101f">00267</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_NEGATE(bma, bmb)  _SHR_PBMP_BMOP(bma, bmb, = ~)</span>
<a name="l00268"></a>00268 <span class="preprocessor"></span>
<a name="l00269"></a>00269 <span class="comment">/* Port PBMP operators */</span>
<a name="l00270"></a><a class="code" href="pbmp_8h.html#ac42f796e028cc0b8645fe846dc364086">00270</a> <span class="preprocessor">#define _SHR_PBMP_ENTRY(bm, port) \</span>
<a name="l00271"></a>00271 <span class="preprocessor">  (_SHR_PBMP_WORD_GET(bm,_SHR_PBMP_WENT(port)))</span>
<a name="l00272"></a><a class="code" href="pbmp_8h.html#a6dcccfd9c7b2056aed1679976e9a8274">00272</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_MEMBER(bm, port)  \</span>
<a name="l00273"></a>00273 <span class="preprocessor">  ((_SHR_PBMP_ENTRY(bm, port) &amp; _SHR_PBMP_WBIT(port)) != 0)</span>
<a name="l00274"></a><a class="code" href="pbmp_8h.html#af711ca270ebfccffe65a06bbd563194c">00274</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_PORT_SET(bm, port)  do { \</span>
<a name="l00275"></a>00275 <span class="preprocessor">    _SHR_PBMP_CLEAR(bm); \</span>
<a name="l00276"></a>00276 <span class="preprocessor">    _SHR_PBMP_PORT_ADD(bm, port); \</span>
<a name="l00277"></a>00277 <span class="preprocessor">  } while(0)</span>
<a name="l00278"></a>00278 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00279"></a><a class="code" href="pbmp_8h.html#accef981698073e6b21da6d4dd4a0a0cc">00279</a> <span class="preprocessor">#define _SHR_PBMP_PORT_ADD(bm, port)  \</span>
<a name="l00280"></a>00280 <span class="preprocessor">  (_SHR_PBMP_ENTRY(bm, port) |= _SHR_PBMP_WBIT(port))</span>
<a name="l00281"></a><a class="code" href="pbmp_8h.html#a20b14fac80d272daf2d6d6fcb18e6520">00281</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_PORT_REMOVE(bm, port) \</span>
<a name="l00282"></a>00282 <span class="preprocessor">  (_SHR_PBMP_ENTRY(bm, port) &amp;= ~_SHR_PBMP_WBIT(port))</span>
<a name="l00283"></a><a class="code" href="pbmp_8h.html#aa0f38c13c8e7371320bccfaac6fc48ed">00283</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_PORT_FLIP(bm, port) \</span>
<a name="l00284"></a>00284 <span class="preprocessor">  (_SHR_PBMP_ENTRY(bm, port) ^= _SHR_PBMP_WBIT(port))</span>
<a name="l00285"></a>00285 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">char</span>   *<a class="code" href="pbmp_8h.html#a7f1e994bb911c6c9a28d7e533df4f982">_shr_pbmp_format</a>(<a class="code" href="struct__shr__pbmp.html">_shr_pbmp_t</a>, <span class="keywordtype">char</span> *);
<a name="l00286"></a><a class="code" href="pbmp_8h.html#a0b52e508b0e8168f449f5e4851e64a1d">00286</a> <span class="preprocessor">#define _SHR_PBMP_FMT(bm, buf)    _shr_pbmp_format(bm, buf)</span>
<a name="l00287"></a><a class="code" href="pbmp_8h.html#a48283a44dfa4e427e6fea7aa7a0c5220">00287</a> <span class="preprocessor"></span><span class="preprocessor">#define _SHR_PBMP_FMT_LEN   ((_SHR_PBMP_WORD_MAX*8)+3)</span>
<a name="l00288"></a>00288 <span class="preprocessor"></span>
<a name="l00289"></a>00289 <span class="preprocessor">#endif  </span><span class="comment">/* !_SHR_PBMP_H */</span>
</pre></div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->


<!--BEGIN GENERATE_TREEVIEW -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->

<hr>
<p>	
<table class="footer-brcm">
	<tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align=left></td>
		<td class="footer-brcm"><small><b>&copy;  2015 by Broadcom Corporation. All rights reserved.</b></small>
			<div class="footer-brcm"><small>Broadcom Corporation reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design. 
Information furnished by Broadcom Corporation is believed to be accurate and reliable. However, Broadcom Corporation does not assume any liability arising 
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license 
under its patent rights nor the rights of others. </small>
			</div>
		</td>
	</tr>
</table>	
</p>	
	

</div>

<!--END GENERATE_TREEVIEW-->





</body>
</html>
